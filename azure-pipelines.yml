trigger:
- none

name: Deploy App Registration Automation

pool:
  vmImage: 'windows-latest'

parameters:
  - name: appRegistrationAutomation
    displayName: 'Choose App Registration Automation'
    type: string
    default: Create App Registration
    values:
      - Create App Registration
      - Update App Registration
      - Renew App Registration Client Secret

stages:
  - ${{ if eq(parameters.appRegistrationAutomation, 'Create App Registration' ) }}:
    - template: template.yml
      parameters:
        stages:
          - "Stg A"
          - "Stg B"
  - ${{ if eq(parameters.appRegistrationAutomation, 'Update App Registration' ) }}:
    - template: template.yml 
      parameters:
        stages:
          - "Stg C"
          - "Stg D"
          - "Stg E"
  - ${{ if eq(parameters.appRegistrationAutomation, 'Renew App Registration Client Secret' ) }}:
    - template: renew-app-registration-client-secret.yml